<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Minecraft Parkour AI Generator</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body, html {
      height: 100%;
      margin: 0;
    }
    .background-video {
      position: fixed;
      right: 0;
      bottom: 0;
      min-width: 100%;
      min-height: 100%;
      z-index: -1;
      object-fit: cover;
    }
  </style>
</head>
<body class="flex items-center justify-center min-h-screen text-white">
  <!-- Background Video -->
  <video autoplay muted loop class="background-video">
    <source src="https://cdn.glitch.me/7accf8cb-6816-47a0-b6c6-65b7f75da309/bg.mp4?v=1751496059656" type="video/mp4" />
    Your browser does not support the video tag.
  </video>

  <!-- UI Box -->
  <div class="bg-black/70 rounded-2xl p-6 w-full max-w-xl shadow-2xl backdrop-blur-md">
    <h1 class="text-3xl font-bold mb-4 text-center">Minecraft Parkour AI Generator</h1>
    <p class="mb-4 text-center text-gray-300">Enter a story idea and generate a custom voiceover script!</p>

    <input id="userInput" type="text" placeholder="e.g. Herobrine escapes the nether..." class="w-full p-3 mb-4 rounded-lg bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500" />

    <button id="generateBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg transition">Generate Script</button>

    <div id="responseContainer" class="mt-6 p-4 bg-gray-900 rounded-lg whitespace-pre-wrap text-gray-100 hidden"></div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/puterjs@latest/dist/puter.min.js"></script>
  <script>
    const btn = document.getElementById('generateBtn');
    const input = document.getElementById('userInput');
    const responseBox = document.getElementById('responseContainer');

    const client = new Puter.Client(); // assumes default ws://localhost:3030 or your puter server

    btn.onclick = async () => {
      const prompt = input.value.trim();
      if (!prompt) return;

      btn.disabled = true;
      btn.textContent = "Generating...";
      responseBox.classList.add("hidden");
      responseBox.textContent = "";

      try {
        const result = await client.chat(prompt);
        responseBox.textContent = result;
        responseBox.classList.remove("hidden");
      } catch (err) {
        responseBox.textContent = "ðŸ˜µ Error: " + err.message;
        responseBox.classList.remove("hidden");
      }

      btn.disabled = false;
      btn.textContent = "Generate Script";
    };
  </script>
</body>
</html>
